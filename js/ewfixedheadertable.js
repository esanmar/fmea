/**
 * Fixed Header Table for PHPMaker 2020
 * @license (C) 2019 e.World Technology Ltd.
 */
ew.fixedHeaderTable=function(e){jQuery;var a=$("#"+e.container),l=a.find("table.ew-table").addClass("table-head-fixed ew-fixed-header-table")[0];if(ua=ew.MOBILE_DETECT,delay=e.delay||0,useOverlayScrollbars=!1!==e.scrollbars,!(!ew.IS_MOBILE&&ua.version("MSIE")<10||ew.IS_MOBILE&&"A"!=ua.mobileGrade()||!e.width&&!e.height)&&l&&l.rows&&a[0]&&a.is("div.ew-grid-middle-panel")){var t,s=function(){return ew.IS_MOBILE||!ew.IS_SCREEN_SM_MIN?"100%":e.width},i=$(window),r=a.closest(".ew-grid").addClass("d-block").css("min-width",0),d=r.find(".ew-grid-lower-panel, .ew-grid-upper-panel"),o=r.closest(".ew-form:not(.ew-list-form)"),n=r.closest(".ew-detail-pages").css("display","block"),w=r.closest(".tab-pane"),h=n.find("a[data-toggle=tab][href='#"+w.attr("id")+"']"),c=r.closest(".collapse"),b=!!o[0],f=h.hasClass("show")||c.hasClass("show")||!n[0],u=function(){var e=s();r.width(b?"100%":e),d.innerWidth("100%"),ew.fixLayoutHeight()},g=function(){if(!a.data("FixedHeaderTable")){var d=e.height,n=d,w=s();b&&w&&o.width(w),r.width(b?"100%":w),a.width(w?"100%":"").height(d||"100%");var h=a[0];if(yscrolling=h.scrollHeight>h.clientHeight,ew.setupTable(-1,l),n&&l.rows&&h.clientHeight>l.offsetHeight){var c=$(l.rows).filter(":not(.ew-template)"),f=c.filter("[data-rowindex=1]").length||c.filter("[data-rowindex=0]").length||1;c.filter(":gt("+(-1*f-1)+")").find("td.ew-table-last-row").removeClass("ew-table-last-row").addClass("ew-table-border-bottom")}var g=function(){clearTimeout(t),t=setTimeout(u,250)};i.resize(g),$('[data-widget="pushmenu"]').on("collapsed.lte.pushmenu",g).on("shown.lte.pushmenu",g),u(),useOverlayScrollbars&&a.overlayScrollbars(ew.sidebarScrollbarsOptions),a.data("FixedHeaderTable",!0)}};b&&!f?(h.on("shown.bs.tab",g),c.on("shown.bs.collapse",g)):delay>0?$.later(delay,null,g):delay<0?$(g):0==delay&&g()}};